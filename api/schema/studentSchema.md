/**
 * DOCUMENT SCHEMA: Students Collection
 * ------------------------------------
 * One document = One Student Applicant
 */
const studentDocument = {
  _id: "ObjectId", // Auto-generated by MongoDB

  // --- 1. Application Meta (Team logic) ---
  application: {
    category: "Non-JUPAS",      // "JUPAS" or "Non-JUPAS"
    target_programme: "CST",   // "CST", "ISA", etc.
    years_applied: [2026],     // Array of years
    status: "Pending",         // "Pending", "Verified", "Rejected"
    applied_at: "ISODate"      // timestamp
  },

  // --- 2. Personal Info (From your request) ---
  personal: {
    name: "String",
    email: "String",
    is_local: true,            // Boolean
    entry_year: 2026,
    banding: 1                 // Secondary School Band (1, 2, or 3)
  },

  // --- 3. Academic Logic (Our Formula Variables) ---
  academic: {
    institution: "String",     // Name of the school
    raw_cgpa: 3.6,
    max_cgpa: 4.0,
    inst_multiplier: 1.05,     // M_inst (Hidden lookup value)
    percentile: "Top 10%",     // Dropdown choice
    related_credits: 15,       // C_rel (Major-related subjects)
    total_credits: 15,         // C_total (Selected electives)
    admission_score: 86.7      // S_total (The final calculated rank)
  },

  // --- 4. HK Specific Records (New) ---
  test_scores: {
    dse_best_5: 22,
    csd_grade: "Attained"      // "Attained", "Unattained", or "-"
  },

  // --- 5. Files & Verification ---
  records: {
    transcript_present: true,  // Boolean (Flag if PDF exists)
    transcript_url: "String",  // Azure Storage link
    achievement: "String",     // Latest achievement or "-"
    is_verified: false         // Teacher checkmark
  },

  // --- 6. Interview (Dr. Wang's part) ---
  evaluation: {
    score: 8,                  // 1-10 scale
    comments: "String",
    interviewer_id: "String"
  }
};
